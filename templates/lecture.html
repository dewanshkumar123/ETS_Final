{% extends "base.html" %}
{% block title %}Lecture - {{ lecture.title }}{% endblock %}

{% block content %}
<div class="lecture-layout">
  <section class="panel panel-wide">
    <h2>{{ lecture.title }}</h2>
    <p class="panel-subtitle">
      Course: {{ lecture.course }}
    </p>
  </section>

  <div class="lecture-main-content">
    <!-- Chatbot Section - Left Side -->
    <section class="panel lecture-chat-panel">
      <h3>Ask a question</h3>
      <p class="panel-subtitle">
        This is a simple chatbot stub that can be replaced by a real AI backend.
      </p>
      <div id="chat-container" data-lecture-id="{{ lecture.id }}">
        <div id="chat-messages" class="chat-messages"></div>
        <div class="chat-input-row">
          <input type="text" id="chat-question" placeholder="Type your question here" />
          <button id="chat-send" class="btn btn-small">Send</button>
        </div>
      </div>
    </section>

    <!-- Notes Section - Right Side -->
    <section class="panel lecture-notes-panel">
      <div class="notes-header">
        <h3>Generated Notes</h3>
        <button id="toggle-transcript" class="btn btn-outline-small">Show Transcript</button>
      </div>
      <div id="notes-content" class="notes-content">
        <div class="formatted-notes">{{ lecture.notes | replace('\n', '<br>') | safe }}</div>
      </div>
      <div id="transcript-content" class="transcript-content" style="display: none;">
        <h4>Transcript</h4>
        <pre class="code-block">{{ lecture.transcript }}</pre>
      </div>
    </section>
  </div>
</div>
{% endblock %}
